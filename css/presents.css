/* --- Generic Present Container --- */
.present {
  position: relative;
  width: 5rem;
  height: 5rem;
  margin: 0.625rem;
  cursor: pointer;
  display: inline-block;
}

/* --- Box Base --- */
.present .box {
  position: absolute;
  width: 100%;
  height: 100%;
  background: var(--present-color, #d32f2f);
  border-radius: var(--border-radius, 0.5rem);
  box-shadow: var(--box-shadow, 0 0.3rem 0.8rem rgba(0, 0, 0, 0.4));
  overflow: hidden;
  transition: transform 0.4s ease;
  display: flex;
  align-items: flex-end;
  justify-content: center;
}

/* --- Lid --- */
.present.has-lid .lid {
  position: absolute;
  width: 100%;
  height: 20%;
  background: var(--lid-color, #b71c1c);
  border-radius: var(--lid-radius, 0.2rem 0.2rem 0 0);
  border-bottom: 2px solid rgba(0, 0, 0, 0.4);
  transform-origin: top center;
  transform: rotateX(0deg);
  transition: transform 0.5s ease;
}
.present.opened.has-lid .lid {
  transform: rotateX(-110deg);
}

/* Base Ribbon */
.ribbon {
  position: absolute;
  top: -0.5rem;
  left: 50%;
  transform: translateX(-50%);
}

/* --- CLASSIC RIBBON STYLE --- */
.ribbon.classic {
  width: 2rem;
  height: 1rem;
  background-color: var(--ribbon-color);
  border-radius: 0.5rem;
  box-shadow: 0 0 0.2rem rgba(0, 0, 0, 0.3);
}

.ribbon.classic::before,
.ribbon.classic::after {
  content: '';
  position: absolute;
  top: 0.6rem;
  width: 0.5rem;
  height: 0.7rem;
  background-color: var(--ribbon-color);
  transform-origin: top left;
}

.ribbon.classic::before {
  left: 0.1rem;
  transform: rotate(45deg);
}

.ribbon.classic::after {
  right: 0.1rem;
  transform: rotate(-45deg);
  transform-origin: top right;
}

.ribbon.starburst {
  position: absolute;
  top: -0.6rem;
  left: 50%;
  transform: translateX(-50%);
  width: 1.4rem;
  height: 1.4rem;
  background-color: var(--ribbon-color);
  border-radius: 50%;
  z-index: 5;
  box-shadow: inset 0 0 0.2rem #fff5, 0 0 0.3rem rgba(0, 0, 0, 0.3);
}

.ribbon.starburst::before,
.ribbon.starburst::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 1.8rem;
  height: 0.3rem;
  background: var(--ribbon-color);
  transform: translate(-50%, -50%) rotate(45deg);
  border-radius: 0.1rem;
  opacity: 0.8;
}

.ribbon.starburst::after {
  transform: translate(-50%, -50%) rotate(-45deg);
}

/* --- Style 1: Classic Rounded Red --- */
.present.style-1 {
  --present-color: #d32f2f;
  --lid-color: #b71c1c;
  --ribbon-color: gold;
  --border-radius: 0.5rem;
  --box-shadow: 0 0.4rem 0.6rem rgba(0, 0, 0, 0.3);
}

/* --- Style 2: Sleek Blue with Sharp Corners --- */
.present.style-2 {
  --present-color: linear-gradient(135deg, #1565c0, #1e88e5);
  --lid-color: #0d47a1;
  --ribbon-color: silver;
  --border-radius: 0.1rem;
  --box-shadow: 0 0.6rem 0.9rem rgba(0, 0, 0, 0.5);
}

/* --- Style 3: Playful Striped Green --- */
.present.style-3 {
  --present-color: repeating-linear-gradient(
    45deg,
    #388e3c,
    #388e3c 0.5rem,
    #66bb6a 0.5rem,
    #66bb6a 1rem
  );
  --lid-color: #2e7d32;
  --ribbon-color: red;
  --border-radius: 0.5rem;
  --box-shadow: inset 0 0 0.3rem #1b5e20, 0 0.4rem 0.7rem rgba(0, 0, 0, 0.4);
}

/* --- Style 4: Gold Metallic Look --- */
.present.style-4 {
  --present-color: linear-gradient(145deg, #fdd835, #fbc02d, #f9a825);
  --lid-color: #f57f17;
  --ribbon-color: #6d4c41;
  --border-radius: 0.3rem;
  --box-shadow: 0 0.3rem 1rem rgba(255, 215, 0, 0.6);
}

/* --- Style 5: Candy Cane Stripes --- */
.present.style-5 {
  --present-color: repeating-linear-gradient(
    45deg,
    #ffffff,
    #ffffff 0.5rem,
    #e53935 0.5rem,
    #e53935 1rem
  );
  --lid-color: #c62828;
  --ribbon-color: green;
  --border-radius: 0.4rem;
  --box-shadow: 0 0.4rem 0.6rem rgba(255, 0, 0, 0.4);
}

/* --- Style 6: Polka Dot Green --- */
.present.style-6 {
  --present-color: radial-gradient(#ffffff 20%, transparent 21%) center/1.5rem 1.5rem,
                   #388e3c;
  --lid-color: #2e7d32;
  --ribbon-color: gold;
  --border-radius: 0.6rem;
  --box-shadow: 0 0.4rem 0.6rem rgba(0, 100, 0, 0.4);
}

/* --- Style 7: Snowy Blue Night --- */
.present.style-7 {
  --present-color: radial-gradient(white 2%, transparent 3%) repeat,
                   linear-gradient(135deg, #0d47a1, #1976d2);
  --lid-color: #0d47a1;
  --ribbon-color: silver;
  --border-radius: 0.5rem;
  --box-shadow: 0 0.5rem 0.7rem rgba(0, 0, 50, 0.5);
  background-size: 0.3rem 0.3rem;
}

/* --- Style 9: Elf Green with Horizontal Stripes --- */
.present.style-8 {
  --present-color: repeating-linear-gradient(
    0deg,
    #43a047,
    #43a047 0.4rem,
    #66bb6a 0.4rem,
    #66bb6a 0.8rem
  );
  --lid-color: #2e7d32;
  --ribbon-color: red;
  --border-radius: 0.3rem;
  --box-shadow: inset 0 0 0.2rem #1b5e20, 0 0.3rem 0.5rem rgba(0, 100, 0, 0.4);
}

/* --- Style 10: Icy Silver --- */
.present.style-9 {
  --present-color: linear-gradient(120deg, #e0e0e0, #bdbdbd);
  --lid-color: #9e9e9e;
  --ribbon-color: icyblue;
  --border-radius: 0.5rem;
  --box-shadow: 0 0.3rem 0.6rem rgba(180, 180, 180, 0.6);
}

/* --- Style 10: Bold Candy Stripes --- */
.present.style-10 {
  --present-color: repeating-linear-gradient(
    45deg,
    #ff1744,
    #ff1744 0.6rem,
    #ffffff 0.6rem,
    #ffffff 1.2rem
  );
  --lid-color: #c62828;
  --ribbon-color: forestgreen;
  --border-radius: 0.4rem;
  --box-shadow: 0 0.5rem 0.6rem rgba(200, 0, 0, 0.4);
}

/* --- Style 11: Winter Mint Swirl --- */
.present.style-11 {
  --present-color: linear-gradient(135deg, #b2ff59, #69f0ae);
  --lid-color: #00c853;
  --ribbon-color: crimson;
  --border-radius: 0.5rem;
  --box-shadow: 0 0.4rem 0.7rem rgba(0, 100, 50, 0.3);
}

/* --- Style 12: Big Polka Dot Red --- */
.present.style-12 {
  --present-color: radial-gradient(#f1f8e9 20%, transparent 21%) center/2rem 2rem,
                   #880e4f; /* deep cranberry */
  --lid-color: #6a1b47;
  --ribbon-color: #ffe082; /* soft gold */
  --border-radius: 0.5rem;
  --box-shadow: 0 0.4rem 0.6rem rgba(130, 0, 60, 0.4);
}

.present.style-13 {
  --present-color: repeating-linear-gradient(
      0deg,
      #e0f7fa,
      #e0f7fa 0.6rem,
      #b2ebf2 0.6rem,
      #b2ebf2 1.2rem
    ),
    repeating-linear-gradient(
      90deg,
      #e0f7fa,
      #e0f7fa 0.6rem,
      #b2ebf2 0.6rem,
      #b2ebf2 1.2rem
    );
  --lid-color: #80deea;
  --ribbon-color: #cfd8dc;
  --border-radius: 0.3rem;
  --box-shadow: 0 0.4rem 0.5rem rgba(0, 80, 100, 0.3);
  background-blend-mode: multiply;
}

/* --- Style 14: Berry Ombre --- */
.present.style-14 {
  --present-color: linear-gradient(135deg, #ad1457, #f06292);
  --lid-color: #880e4f;
  --ribbon-color: #ffeb3b;
  --border-radius: 0.5rem;
  --box-shadow: 0 0.3rem 0.6rem rgba(100, 0, 50, 0.3);
}

.present.style-15 {
  --present-color: conic-gradient(
    from 0deg,
    #ffcc80 0deg 60deg,
    #d32f2f 60deg 120deg,
    #ffcc80 120deg 180deg,
    #d32f2f 180deg 240deg,
    #ffcc80 240deg 300deg,
    #d32f2f 300deg 360deg
  );
  --lid-color: #c62828;
  --ribbon-color: #ffd54f;
  --border-radius: 0.5rem;
  --box-shadow: 0 0.5rem 0.6rem rgba(150, 0, 0, 0.3);
}

/* --- Style 16: Icy Blue Gradient --- */
.present.style-16 {
  --present-color: linear-gradient(135deg, #e1f5fe, #81d4fa, #29b6f6);
  --lid-color: #0288d1;
  --ribbon-color: white;
  --border-radius: 0.5rem;
  --box-shadow: 0 0.5rem 0.7rem rgba(0, 80, 160, 0.4);
}

/* --- Optional Variant Classes (e.g., style-1.green) --- */
.present.style-1.green {
  --present-color: #388e3c;
  --lid-color: #2e7d32;
  --ribbon-color: red;
}

/* Gallery overlay */
.gallery {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100dvh;
  background-color: rgba(0, 0, 0, 0.85);
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  z-index: 99999;
  color: white;
  font-family: 'Comic Sans MS', cursive, sans-serif;
  overflow: hidden;
  user-select: none;
}

.gallery.hidden {
  display: none;
}

/* Gallery image styling */
.gallery img {
  max-width: 90vw;
  max-height: 70dvh;
  border-radius: 0.9375rem;  /* 15px */
  box-shadow: 0 0 1.25rem rgba(255, 255, 255, 0.7); /* 20px */
  margin-bottom: 1rem;
}

/* Gallery controls */
.gallery-controls {
  display: flex;
  gap: 1rem;
}

.gallery-controls button {
  background-color: #c62828;
  border: none;
  color: white;
  padding: 0.5rem 1rem;
  font-weight: bold;
  border-radius: 0.5rem;   /* 8px */
  cursor: pointer;
  user-select: none;
}

.gallery-controls button:hover {
  background-color: #8e0000;
}