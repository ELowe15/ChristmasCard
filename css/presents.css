/* --- Generic Present Container --- */
.present {
  position: relative;
  width: 5rem;
  height: 5rem;
  margin: 0.625rem;
  cursor: pointer;
  display: inline-block;
}

/* --- Box Base --- */
.present .box {
  position: absolute;
  width: 100%;
  height: 100%;
  background: var(--present-color, #d32f2f);
  border-radius: var(--border-radius, 0.5rem);
  box-shadow: var(--box-shadow, 0 0.3rem 0.8rem rgba(0, 0, 0, 0.4));
  overflow: hidden;
  transition: transform 0.4s ease;
  display: flex;
  align-items: flex-end;
  justify-content: center;
}

/* --- Lid --- */
.present.has-lid .lid {
  position: absolute;
  width: 100%;
  height: 20%;
  background: var(--lid-color, #b71c1c);
  border-radius: var(--lid-radius, 0.2rem 0.2rem 0 0);
  border-bottom: 2px solid rgba(0, 0, 0, 0.4);
  transform-origin: top center;
  transform: rotateX(0deg);
  transition: transform 0.5s ease;
}
.present.opened.has-lid .lid {
  transform: rotateX(-110deg);
}

/* Base Ribbon */
.ribbon {
  position: absolute;
  top: -0.5rem;
  left: 50%;
  transform: translateX(-50%);
}

/* --- CLASSIC RIBBON STYLE --- */
.ribbon.classic {
  width: 2rem;
  height: 1rem;
  background-color: var(--ribbon-color);
  border-radius: 0.5rem;
  box-shadow: 0 0 0.2rem rgba(0, 0, 0, 0.3);
}

.ribbon.classic::before,
.ribbon.classic::after {
  content: '';
  position: absolute;
  top: 0.6rem;
  width: 0.5rem;
  height: 0.7rem;
  background-color: var(--ribbon-color);
  transform-origin: top left;
}

.ribbon.classic::before {
  left: 0.1rem;
  transform: rotate(45deg);
}

.ribbon.classic::after {
  right: 0.1rem;
  transform: rotate(-45deg);
  transform-origin: top right;
}

.ribbon.starburst {
  position: absolute;
  top: -0.6rem;
  left: 50%;
  transform: translateX(-50%);
  width: 1.4rem;
  height: 1.4rem;
  background-color: var(--ribbon-color);
  border-radius: 50%;
  z-index: 5;
  box-shadow: inset 0 0 0.2rem #fff5, 0 0 0.3rem rgba(0, 0, 0, 0.3);
}

.ribbon.starburst::before,
.ribbon.starburst::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 1.8rem;
  height: 0.3rem;
  background: var(--ribbon-color);
  transform: translate(-50%, -50%) rotate(45deg);
  border-radius: 0.1rem;
  opacity: 0.8;
}

.ribbon.starburst::after {
  transform: translate(-50%, -50%) rotate(-45deg);
}

/* --- Classic Rounded Red --- */
.present.classic-red {
  --present-color: #d32f2f;
  --lid-color: #b71c1c;
  --ribbon-color: gold;
  --border-radius: 0.5rem;
  --box-shadow: 0 0.4rem 0.6rem rgba(0, 0, 0, 0.3);
}

/* --- Sleek Blue with Sharp Corners --- */
.present.sleek-blue-sharp {
  --present-color: linear-gradient(135deg, #1565c0, #1e88e5);
  --lid-color: #0d47a1;
  --ribbon-color: silver;
  --border-radius: 0.1rem;
  --box-shadow: 0 0.6rem 0.9rem rgba(0, 0, 0, 0.5);
}

/* --- Playful Striped Green --- */
.present.playful-green-stripes {
  --present-color: repeating-linear-gradient(
    45deg,
    #388e3c,
    #388e3c 0.5rem,
    #66bb6a 0.5rem,
    #66bb6a 1rem
  );
  --lid-color: #2e7d32;
  --ribbon-color: red;
  --border-radius: 0.5rem;
  --box-shadow: inset 0 0 0.3rem #1b5e20, 0 0.4rem 0.7rem rgba(0, 0, 0, 0.4);
}

/* --- Candy Cane Stripes --- */
.present.candy-cane-stripes {
  --present-color: repeating-linear-gradient(
    45deg,
    #ffffff,
    #ffffff 0.5rem,
    #e53935 0.5rem,
    #e53935 1rem
  );
  --lid-color: #c62828;
  --ribbon-color: green;
  --border-radius: 0.4rem;
  --box-shadow: 0 0.4rem 0.6rem rgba(255, 0, 0, 0.4);
}

/* --- Polka Dot Green Large --- */
.present.green-polka-large {
  --present-color: radial-gradient(#ffffff 20%, transparent 21%) center/1.5rem 1.5rem,
                   #388e3c;
  --lid-color: #2e7d32;
  --ribbon-color: gold;
  --border-radius: 0.6rem;
  --box-shadow: 0 0.4rem 0.6rem rgba(0, 100, 0, 0.4);
}

/* --- Snowy Blue Night --- */
.present.snowy-blue-night {
  --present-color: radial-gradient(white 2%, transparent 3%) repeat,
                   linear-gradient(135deg, #0d47a1, #1976d2);
  --lid-color: #0d47a1;
  --ribbon-color: silver;
  --border-radius: 0.5rem;
  --box-shadow: 0 0.5rem 0.7rem rgba(0, 0, 50, 0.5);
  background-size: 0.3rem 0.3rem;
}

/* --- Elf Green with Horizontal Stripes --- */
.present.elf-green-horizontal {
  --present-color: repeating-linear-gradient(
    0deg,
    #43a047,
    #43a047 0.4rem,
    #66bb6a 0.4rem,
    #66bb6a 0.8rem
  );
  --lid-color: #2e7d32;
  --ribbon-color: red;
  --border-radius: 0.3rem;
  --box-shadow: inset 0 0 0.2rem #1b5e20, 0 0.3rem 0.5rem rgba(0, 100, 0, 0.4);
}

/* --- Winter Mint Swirl --- */
.present.winter-mint-swirl {
  --present-color: linear-gradient(135deg, #b2ff59, #69f0ae);
  --lid-color: #00c853;
  --ribbon-color: crimson;
  --border-radius: 0.5rem;
  --box-shadow: 0 0.4rem 0.7rem rgba(0, 100, 50, 0.3);
}

/* --- Big Cranberry Polka (More dots, less spacing) --- */
.present.big-cranberry-polka {
  --present-color: radial-gradient(#f1f8e9 20%, transparent 21%) center/1.2rem 1.2rem,
                   #880e4f;
  --lid-color: #6a1b47;
  --ribbon-color: #ffe082;
  --border-radius: 0.5rem;
  --box-shadow: 0 0.4rem 0.6rem rgba(130, 0, 60, 0.4);
}

/* --- Soft Aqua Grid --- */
.present.soft-aqua-grid {
  --present-color: repeating-linear-gradient(
      0deg,
      #e0f7fa,
      #e0f7fa 0.6rem,
      #b2ebf2 0.6rem,
      #b2ebf2 1.2rem
    ),
    repeating-linear-gradient(
      90deg,
      #e0f7fa,
      #e0f7fa 0.6rem,
      #b2ebf2 0.6rem,
      #b2ebf2 1.2rem
    );
  --lid-color: #80deea;
  --ribbon-color: #cfd8dc;
  --border-radius: 0.3rem;
  --box-shadow: 0 0.4rem 0.5rem rgba(0, 80, 100, 0.3);
  background-blend-mode: multiply;
}

/* --- Berry Ombre --- */
.present.berry-ombre {
  --present-color: linear-gradient(135deg, #ad1457, #f06292);
  --lid-color: #880e4f;
  --ribbon-color: #ffeb3b;
  --border-radius: 0.5rem;
  --box-shadow: 0 0.3rem 0.6rem rgba(100, 0, 50, 0.3);
}

/* --- Festive Pinwheel --- */
.present.festive-pinwheel {
  --present-color: conic-gradient(
    from 0deg,
    #ffcc80 0deg 60deg,
    #d32f2f 60deg 120deg,
    #ffcc80 120deg 180deg,
    #d32f2f 180deg 240deg,
    #ffcc80 240deg 300deg,
    #d32f2f 300deg 360deg
  );
  --lid-color: #c62828;
  --ribbon-color: #ffd54f;
  --border-radius: 0.5rem;
  --box-shadow: 0 0.5rem 0.6rem rgba(150, 0, 0, 0.3);
}

/* --- Icy Blue Gradient --- */
.present.icy-blue-gradient {
  --present-color: linear-gradient(135deg, #e1f5fe, #81d4fa, #29b6f6);
  --lid-color: #0288d1;
  --ribbon-color: white;
  --border-radius: 0.5rem;
  --box-shadow: 0 0.5rem 0.7rem rgba(0, 80, 160, 0.4);
}

/* --- Red & Gold Diagonal Stripes --- */
.present.red-gold-stripes {
  --present-color: repeating-linear-gradient(
    45deg,
    #b71c1c,
    #b71c1c 0.4rem,
    #ffd54f 0.4rem,
    #ffd54f 0.8rem
  );
  --lid-color: #7f0000;
  --ribbon-color: #fbc02d;
  --border-radius: 0.4rem;
  --box-shadow: 0 0.5rem 0.7rem rgba(150, 0, 0, 0.5);
}

/* --- NEW Style 19: Creamy White with Green Dots --- */
.present.creamy-green-polka {
  --present-color: radial-gradient(#388e3c 20%, transparent 21%) center/1.2rem 1.2rem,
                   #f3f0e8;
  --lid-color: #cfd8dc;
  --ribbon-color: #388e3c;
  --border-radius: 0.5rem;
  --box-shadow: 0 0.3rem 0.5rem rgba(100, 120, 100, 0.3);
}

.message-box {
  position: fixed;
  top: 20px;
  left: 50%;
  transform: translateX(-50%);
  background: #fff8e1;
  border: 2px solid #d32f2f;
  border-radius: 10px;
  padding: 15px 20px;
  z-index: 9999;
  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
  animation: fadeIn 0.3s ease;
  font-family: 'Segoe UI', sans-serif;
  text-align: center;
  max-width: 300px;
}

.message-box p {
  margin: 0 0 10px;
  color: #b71c1c;
  font-weight: bold;
}

.message-box button {
  background: #d32f2f;
  color: white;
  border: none;
  padding: 5px 15px;
  border-radius: 5px;
  cursor: pointer;
}

.message-box button:hover {
  background: #b71c1c;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translate(-50%, -10px); }
  to { opacity: 1; transform: translate(-50%, 0); }
}